(window["webpackJsonpthomson-reuters-2"]=window["webpackJsonpthomson-reuters-2"]||[]).push([[0],{11:function(e,t,a){e.exports=a(19)},16:function(e,t,a){},18:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);var r=a(0),o=a.n(r),n=a(4),l=a.n(n),s=(a(16),a(2)),c=a.n(s),i=a(5),d=a(6),m=a(7),u=a(9),p=a(8),h=a(1),g=a(10),v=(a(18),function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).state={sortBy:a.props.sort?a.props.sort:"gold",errorLoading:!1,isLoading:!0,errorMessage:"",data:[]},a.onClickSortHeader=a.onClickSortHeader.bind(Object(h.a)(a)),a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(i.a)(c.a.mark(function e(){var t,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://s3-us-west-2.amazonaws.com/reuters.medals-widget/medals.json");case 3:return t=e.sent,e.next=6,t.json();case 6:a=(a=e.sent).map(function(e){return e.total=e.gold+e.silver+e.bronze,e}),this.setState({data:a,isLoading:!1}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),this.setState({isLoading:!1,errorLoading:!0});case 14:case"end":return e.stop()}},e,this,[[0,11]])}));return function(){return e.apply(this,arguments)}}()},{key:"getSortedData",value:function(e,t){e=void 0!==e?e:this.state.data;var a=JSON.parse(JSON.stringify(e));return a.sort(function(e,a){if(e[t]<a[t])return 1;if(e[t]>a[t])return-1;if("gold"===t){if(e.silver<a.silver)return 1;if(e.silver>a.silver)return-1}else{if(e.gold<a.gold)return 1;if(e.gold>a.gold)return-1}return 0}),a}},{key:"onClickSortHeader",value:function(e){var t=e.target,a=(t.hasAttribute("data-sort-type")?t:t.closest("[data-sort-type]")).getAttribute("data-sort-type"),r=this.getSortedData(void 0,a);this.setState({data:r,sortBy:a})}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.errorLoading,o=e.data,n=e.sortBy;return t?r.createElement("p",null,"Currently loading.."):a?r.createElement("p",null,"Error loading results. Please contact a site admin"):r.createElement("div",{className:"App"},r.createElement("h2",{className:"medalsheader"},"Medal Count"),r.createElement("table",{className:"medalstable","data-qa":"medalstable"},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",{scope:"col"}),r.createElement("th",{scope:"col"}),r.createElement("th",{scope:"col","data-sort-type":"gold",className:"gold"===n?"sorted":void 0,onClick:this.onClickSortHeader,title:"Click to sort by Gold medals"},r.createElement("span",{className:"medal-icon medal-icon--gold"})),r.createElement("th",{scope:"col","data-sort-type":"silver",className:"silver"===n?"sorted":void 0,onClick:this.onClickSortHeader,title:"Click to sort by Silver medals"},r.createElement("span",{className:"medal-icon medal-icon--silver"})),r.createElement("th",{scope:"col","data-sort-type":"bronze",className:"bronze"===n?"sorted":void 0,onClick:this.onClickSortHeader,title:"Click to sort by Bronze medals"},r.createElement("span",{className:"medal-icon medal-icon--bronze"})),r.createElement("th",{scope:"col","data-sort-type":"total",className:"total"===n?"sorted":void 0,onClick:this.onClickSortHeader,title:"Click to sort by Total medals"},"TOTAL"))),r.createElement("tbody",null,o&&this.getSortedData(o,n).slice(0,10).map(function(e,t){return r.createElement("tr",{key:e.code,"data-qa-country-row":e.code},r.createElement("td",null,t+1),r.createElement("td",{className:"medalstable__country"},r.createElement("span",{className:"flag flag--".concat(e.code)}),r.createElement("span",{className:"medalstable__text"},e.code)),r.createElement("td",null,e.gold),r.createElement("td",null,e.silver),r.createElement("td",null,e.bronze),r.createElement("td",null,r.createElement("strong",null,e.total)))}))))}}]),t}(r.Component));v.defaultProps={sort:"gold"};var f=v;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));(function(e,t){l.a.render(o.a.createElement(f,{sort:t}),document.getElementById(e))})("root","gold"),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[11,1,2]]]);
//# sourceMappingURL=main.ea5482b7.chunk.js.map